# 責務

## 4.1 責務とはなにか
ソフトウェアオブジェクトについて大雑把に記述したもの。以下の3つの主要な項目が含まれる。
* オブジェクトが行う動作
* オブジェクトが持つ知識
* オブジェクトが他に影響を与える主要な判断

問題の再定義を進めるべき時と、解決策の定義を進めるべき時を理解することが重要。(主題ではないかもしれない)

例: やかんの責務を考える
* こぼさず中身を注ぐ
* 沸騰するまで温める
* 沸騰を知らせる
* 安全な方法で運ぶための便利な手段を提供する

既存の枠組みから離れて考える。  
設計するべきはやかんではなく、水を温める手段。(?)  
加熱装置や瞬間湯沸器を考えるとよい


## 4.2 責務はどこから見つかるか
まず、大きな影響力を及ぼす領域で、行うべきアクションと保持／生成する必要のある情報を探す。  
また、要望(ユースケース記述など)、特性(設計に影響する特別な要求)、ソフトウェア記述(システム動作、画面仕様など)を、責務の記述分に置き換える必要も出てくる。  
記述文があまりにも広範囲に及ぶのであれば、可能な限り小さな複数の責務に分割する。

### ユースケースから見つける
ユースケース(システムの仕事の一般的な性質)の記述を、アクション、情報保持、判断を行う、などといった明確な記述文つまり責務に変換する。  
以下の作業に基づく。
1. システムが実行することと管理する情報がどれか見分ける。
2. これらを責務として宣言し直す
3. 必要であれば責務を更に分割し、適切なオブジェクトに割り当てる。
P130～133あたりが例になる。

ユースケースから責務を取り出すときに考えるべきこと
* 責務と識別すると同時に、未解決の疑問も特定すること
* わかっていることについて継続して検討していくこと
これらによって、必要な責務を発見できる。


### テーマ・設計ストーリーから見つける
ソフトウェアの背後にある重要なアイデアを記述した簡潔なストーリーを、前章で書くようにしたはず。  
このストーリーを使うことで、重要な事柄に集中できる。  
システムの処理を必要とする部分を抜き出し、責務化させる。

### 設計上の制約から見つける
具体的なアクションでなく、「ソフトウェアは定期メンテナンス時のみオフラインになるべきである」という高い(?????)レベルの目標から、  
その目標を達成する一連のアクションやアクティビティを考える。  
P137辺りに書いてあるが、結論として何が言いたいのか、全くよくわからない。


### オブジェクトが担うロールステレオタイプから自然と思いつく
* 情報保持役 - 知っている責務
* サービス提供役 - 特定のサービスを実行する責務
* 構造化役 - 他の複数のオブジェクトとの関係を保持し、それらに関する問い合わせに答える責務
* インターフェース役 - 情報やリクエストを、システムのある部分から別の部分へ変換する責務
* 調整役 - 共同で行う作業を管理する責務
* 制御役 - 重要なイベントをさばき、他のオブジェクトが行う作業を指示する責務
